<div class="_page _node"><h1 id="child_process_child_process">Child Process</h1> <pre class="api_stability_3">Stability: 3 - Stable</pre>
<p>Node provides a tri-directional <code>popen(3)</code> facility through the <code>child_process</code> module. </p> <p>It is possible to stream data through a child's <code>stdin</code>, <code>stdout</code>, and <code>stderr</code> in a fully non-blocking way. (Note that some programs use line-buffered I/O internally. That doesn't affect node.js but it means data you send to the child process is not immediately consumed.) </p> <p>To create a child process use <code>require('child_process').spawn()</code> or <code>require('child_process').fork()</code>. The semantics of each are slightly different, and explained below. </p> <h2 id="child_process_class_childprocess" class="">Class: ChildProcess</h2> <p><code>ChildProcess</code> is an <a href="events#events_class_events_eventemitter">EventEmitter</a>. </p> <p>Child processes always have three streams associated with them. <code>child.stdin</code>, <code>child.stdout</code>, and <code>child.stderr</code>. These may be shared with the stdio streams of the parent process, or they may be separate stream objects which can be piped to and from. </p> <p>The ChildProcess class is not intended to be used directly. Use the <code>spawn()</code> or <code>fork()</code> methods to create a Child Process instance. </p> <h3 id="child_process_event_error">Event: 'error'</h3> <div class="signature"><ul>
<li>
<code>err</code> <span class="type">Error Object</span> the error.</li> </ul></div> <p>Emitted when: </p> <ol>
<li>The process could not be spawned, or</li> <li>The process could not be killed, or</li> <li>Sending a message to the child process failed for whatever reason.</li> </ol>
<p>Note that the <code>exit</code>-event may or may not fire after an error has occured. If you are listening on both events to fire a function, remember to guard against calling your function twice. </p> <p>See also <a href="#child_process_child_kill_signal"><code>ChildProcess#kill()</code></a> and <a href="#child_process_child_send_message_sendhandle"><code>ChildProcess#send()</code></a>. </p> <h3 id="child_process_event_exit">Event: 'exit'</h3> <div class="signature"><ul>
<li>
<code>code</code> <span class="type">Number</span> the exit code, if it exited normally.</li> <li>
<code>signal</code> <span class="type">String</span> the signal passed to kill the child process, if it was killed by the parent.</li> </ul></div> <p>This event is emitted after the child process ends. If the process terminated normally, <code>code</code> is the final exit code of the process, otherwise <code>null</code>. If the process terminated due to receipt of a signal, <code>signal</code> is the string name of the signal, otherwise <code>null</code>. </p> <p>Note that the child process stdio streams might still be open. </p> <p>Also, note that node establishes signal handlers for <code>'SIGINT'</code> and <code>'SIGTERM</code>', so it will not terminate due to receipt of those signals, it will exit. </p> <p>See <code>waitpid(2)</code>. </p> <h3 id="child_process_event_close">Event: 'close'</h3> <div class="signature"><ul>
<li>
<code>code</code> <span class="type">Number</span> the exit code, if it exited normally.</li> <li>
<code>signal</code> <span class="type">String</span> the signal passed to kill the child process, if it was killed by the parent.</li> </ul></div> <p>This event is emitted when the stdio streams of a child process have all terminated. This is distinct from 'exit', since multiple processes might share the same stdio streams. </p> <h3 id="child_process_event_disconnect">Event: 'disconnect'</h3> <p>This event is emitted after calling the <code>.disconnect()</code> method in the parent or in the child. After disconnecting it is no longer possible to send messages, and the <code>.connected</code> property is false. </p> <h3 id="child_process_event_message">Event: 'message'</h3> <div class="signature"><ul>
<li>
<code>message</code> <span class="type">Object</span> a parsed JSON object or primitive value</li> <li>
<code>sendHandle</code> <span class="type">Handle object</span> a Socket or Server object</li> </ul></div> <p>Messages send by <code>.send(message, [sendHandle])</code> are obtained using the <code>message</code> event. </p> <h3 id="child_process_child_stdin">child.stdin</h3> <div class="signature"><ul>
<li><span class="type">Stream object</span></li> </ul></div> <p>A <code>Writable Stream</code> that represents the child process's <code>stdin</code>. Closing this stream via <code>end()</code> often causes the child process to terminate. </p> <p>If the child stdio streams are shared with the parent, then this will not be set. </p> <h3 id="child_process_child_stdout">child.stdout</h3> <div class="signature"><ul>
<li><span class="type">Stream object</span></li> </ul></div> <p>A <code>Readable Stream</code> that represents the child process's <code>stdout</code>. </p> <p>If the child stdio streams are shared with the parent, then this will not be set. </p> <h3 id="child_process_child_stderr">child.stderr</h3> <div class="signature"><ul>
<li><span class="type">Stream object</span></li> </ul></div> <p>A <code>Readable Stream</code> that represents the child process's <code>stderr</code>. </p> <p>If the child stdio streams are shared with the parent, then this will not be set. </p> <h3 id="child_process_child_pid">child.pid</h3> <div class="signature"><ul>
<li><span class="type">Integer</span></li> </ul></div> <p>The PID of the child process. </p> <p>Example: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">,</span>
    grep  <span class="token operator">=</span> <span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'grep'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'ssh'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Spawned child pid: '</span> <span class="token operator">+</span> grep<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
grep<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span><span class="token function">end<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="child_process_child_connected">child.connected</h3> <div class="signature"><ul>
<li>
<span class="type">Boolean</span> Set to false after `.disconnect' is called</li> </ul></div> <p>If <code>.connected</code> is false, it is no longer possible to send messages. </p> <h3 id="child_process_child_kill_signal">child.kill([signal])</h3> <div class="signature"><ul>
<li>
<code>signal</code> <span class="type">String</span>
</li> </ul></div> <p>Send a signal to the child process. If no argument is given, the process will be sent <code>'SIGTERM'</code>. See <code>signal(7)</code> for a list of available signals. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">,</span>
    grep  <span class="token operator">=</span> <span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'grep'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'ssh'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

grep<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>code<span class="token punctuation">,</span> signal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'child process terminated due to receipt of signal '</span><span class="token operator">+</span>signal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// send SIGHUP to process
</span>grep<span class="token punctuation">.</span><span class="token function">kill<span class="token punctuation">(</span></span><span class="token string">'SIGHUP'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>May emit an <code>'error'</code> event when the signal cannot be delivered. Sending a signal to a child process that has already exited is not an error but may have unforeseen consequences: if the PID (the process ID) has been reassigned to another process, the signal will be delivered to that process instead. What happens next is anyone's guess. </p> <p>Note that while the function is called <code>kill</code>, the signal delivered to the child process may not actually kill it. <code>kill</code> really just sends a signal to a process. </p> <p>See <code>kill(2)</code> </p> <h3 id="child_process_child_send_message_sendhandle">child.send(message, [sendHandle])</h3> <div class="signature"><ul>
<li>
<code>message</code> <span class="type">Object</span>
</li> <li>
<code>sendHandle</code> <span class="type">Handle object</span>
</li> </ul></div> <p>When using <code>child_process.fork()</code> you can write to the child using <code>child.send(message, [sendHandle])</code> and messages are received by a <code>'message'</code> event on the child. </p> <p>For example: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> cp <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> n <span class="token operator">=</span> cp<span class="token punctuation">.</span><span class="token function">fork<span class="token punctuation">(</span></span>__dirname <span class="token operator">+</span> <span class="token string">'/sub.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

n<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'PARENT got message:'</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

n<span class="token punctuation">.</span><span class="token function">send<span class="token punctuation">(</span></span><span class="token punctuation">{</span> hello<span class="token punctuation">:</span> <span class="token string">'world'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>And then the child script, <code>'sub.js'</code> might look like this: </p> <pre class=" language-javascript"><code class=" language-javascript">process<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'CHILD got message:'</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

process<span class="token punctuation">.</span><span class="token function">send<span class="token punctuation">(</span></span><span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>In the child the <code>process</code> object will have a <code>send()</code> method, and <code>process</code> will emit objects each time it receives a message on its channel. </p> <p>Please note that the <code>send()</code> method on both the parent and child are synchronous - sending large chunks of data is not advised (pipes can be used instead, see <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn</code></a>). </p> <p>There is a special case when sending a <code>{cmd: 'NODE_foo'}</code> message. All messages containing a <code>NODE_</code> prefix in its <code>cmd</code> property will not be emitted in the <code>message</code> event, since they are internal messages used by node core. Messages containing the prefix are emitted in the <code>internalMessage</code> event, you should by all means avoid using this feature, it is subject to change without notice. </p> <p>The <code>sendHandle</code> option to <code>child.send()</code> is for sending a TCP server or socket object to another process. The child will receive the object as its second argument to the <code>message</code> event. </p> <p>Emits an <code>'error'</code> event if the message cannot be sent, for example because the child process has already exited. </p> <h4 id="child_process_example_sending_server_object">Example: sending server object</h4> <p>Here is an example of sending a server: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fork<span class="token punctuation">(</span></span><span class="token string">'child.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// Open up the server object and send the handle.
</span><span class="token keyword">var</span> server <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'net'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createServer<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>socket<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  socket<span class="token punctuation">.</span><span class="token function">end<span class="token punctuation">(</span></span><span class="token string">'handled by parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen<span class="token punctuation">(</span></span><span class="token number">1337</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  child<span class="token punctuation">.</span><span class="token function">send<span class="token punctuation">(</span></span><span class="token string">'server'</span><span class="token punctuation">,</span> server<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>And the child would the receive the server object as: </p> <pre class=" language-javascript"><code class=" language-javascript">process<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> server<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">===</span> <span class="token string">'server'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    server<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>socket<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      socket<span class="token punctuation">.</span><span class="token function">end<span class="token punctuation">(</span></span><span class="token string">'handled by child'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Note that the server is now shared between the parent and child, this means that some connections will be handled by the parent and some by the child. </p> <p>For <code>dgram</code> servers the workflow is exactly the same. Here you listen on a <code>message</code> event instead of <code>connection</code> and use <code>server.bind</code> instead of <code>server.listen</code>. (Currently only supported on UNIX platforms.) </p> <h4 id="child_process_example_sending_socket_object">Example: sending socket object</h4> <p>Here is an example of sending a socket. It will spawn two children and handle connections with the remote address <code>74.125.127.100</code> as VIP by sending the socket to a "special" child process. Other sockets will go to a "normal" process. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> normal <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fork<span class="token punctuation">(</span></span><span class="token string">'child.js'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'normal'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> special <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fork<span class="token punctuation">(</span></span><span class="token string">'child.js'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'special'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// Open up the server and send sockets to child
</span><span class="token keyword">var</span> server <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'net'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createServer<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>socket<span class="token punctuation">)</span> <span class="token punctuation">{</span>

 <span class="token comment" spellcheck="true"> // if this is a VIP
</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>socket<span class="token punctuation">.</span>remoteAddress <span class="token operator">===</span> <span class="token string">'74.125.127.100'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    special<span class="token punctuation">.</span><span class="token function">send<span class="token punctuation">(</span></span><span class="token string">'socket'</span><span class="token punctuation">,</span> socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token comment" spellcheck="true"> // just the usual dudes
</span>  normal<span class="token punctuation">.</span><span class="token function">send<span class="token punctuation">(</span></span><span class="token string">'socket'</span><span class="token punctuation">,</span> socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen<span class="token punctuation">(</span></span><span class="token number">1337</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The <code>child.js</code> could look like this: </p> <pre class=" language-javascript"><code class=" language-javascript">process<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> socket<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">===</span> <span class="token string">'socket'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    socket<span class="token punctuation">.</span><span class="token function">end<span class="token punctuation">(</span></span><span class="token string">'You were handled as a '</span> <span class="token operator">+</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">' person'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Note that once a single socket has been sent to a child the parent can no longer keep track of when the socket is destroyed. To indicate this condition the <code>.connections</code> property becomes <code>null</code>. It is also recommended not to use <code>.maxConnections</code> in this condition. </p> <h3 id="child_process_child_disconnect">child.disconnect()</h3> <p>Close the IPC channel between parent and child, allowing the child to exit gracefully once there are no other connections keeping it alive. After calling this method the <code>.connected</code> flag will be set to <code>false</code> in both the parent and child, and it is no longer possible to send messages. </p> <p>The 'disconnect' event will be emitted when there are no messages in the process of being received, most likely immediately. </p> <p>Note that you can also call <code>process.disconnect()</code> in the child process. </p> <h2 id="child_process_child_process_spawn_command_args_options">child_process.spawn(command, [args], [options])</h2> <div class="signature"><ul>
<li>
<code>command</code> <span class="type">String</span> The command to run</li> <li>
<code>args</code> <span class="type">Array</span> List of string arguments</li> <li>
<code>options</code> <span class="type">Object</span><ul>
<li>
<code>cwd</code> <span class="type">String</span> Current working directory of the child process</li> <li>
<code>stdio</code> <span class="type">Array|String</span> Child's stdio configuration. (See below)</li> <li>
<code>customFds</code> <span class="type">Array</span> <strong>Deprecated</strong> File descriptors for the child to use for stdio. (See below)</li> <li>
<code>env</code> <span class="type">Object</span> Environment key-value pairs</li> <li>
<code>detached</code> <span class="type">Boolean</span> The child will be a process group leader. (See below)</li> <li>
<code>uid</code> <span class="type">Number</span> Sets the user identity of the process. (See setuid(2).)</li> <li>
<code>gid</code> <span class="type">Number</span> Sets the group identity of the process. (See setgid(2).)</li> </ul>
</li> <li>return: <span class="type">ChildProcess object</span>
</li> </ul></div> <p>Launches a new process with the given <code>command</code>, with command line arguments in <code>args</code>. If omitted, <code>args</code> defaults to an empty Array. </p> <p>The third argument is used to specify additional options, which defaults to: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token punctuation">{</span> cwd<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
  env<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env
<span class="token punctuation">}</span></code></pre> <p><code>cwd</code> allows you to specify the working directory from which the process is spawned. Use <code>env</code> to specify environment variables that will be visible to the new process. </p> <p>Example of running <code>ls -lh /usr</code>, capturing <code>stdout</code>, <code>stderr</code>, and the exit code: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">,</span>
    ls    <span class="token operator">=</span> <span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'ls'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'-lh'</span><span class="token punctuation">,</span> <span class="token string">'/usr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ls<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'stdout: '</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ls<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'stderr: '</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ls<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'child process exited with code '</span> <span class="token operator">+</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Example: A very elaborate way to run 'ps ax | grep ssh' </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">,</span>
    ps    <span class="token operator">=</span> <span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'ps'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'ax'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    grep  <span class="token operator">=</span> <span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'grep'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'ssh'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ps<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  grep<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span><span class="token function">write<span class="token punctuation">(</span></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ps<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'ps stderr: '</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ps<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">!</span><span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'ps process exited with code '</span> <span class="token operator">+</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  grep<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span><span class="token function">end<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

grep<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">''</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

grep<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'grep stderr: '</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

grep<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">!</span><span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'grep process exited with code '</span> <span class="token operator">+</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Example of checking for failed exec: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">,</span>
    child <span class="token operator">=</span> <span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'bad_command'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

child<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span><span class="token function">setEncoding<span class="token punctuation">(</span></span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/^execvp\(\)/</span><span class="token punctuation">.</span><span class="token function">test<span class="token punctuation">(</span></span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Failed to start child process.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Note that if spawn receives an empty options object, it will result in spawning the process with an empty environment rather than using <code>process.env</code>. This due to backwards compatibility issues with a deprecated API. </p> <p>The 'stdio' option to <code>child_process.spawn()</code> is an array where each index corresponds to a fd in the child. The value is one of the following: </p> <ol>
<li>
<code>'pipe'</code> - Create a pipe between the child process and the parent process. The parent end of the pipe is exposed to the parent as a property on the <code>child_process</code> object as <code>ChildProcess.stdio[fd]</code>. Pipes created for fds 0 - 2 are also available as ChildProcess.stdin, ChildProcess.stdout and ChildProcess.stderr, respectively.</li> <li>
<code>'ipc'</code> - Create an IPC channel for passing messages/file descriptors between parent and child. A ChildProcess may have at most <em>one</em> IPC stdio file descriptor. Setting this option enables the ChildProcess.send() method. If the child writes JSON messages to this file descriptor, then this will trigger ChildProcess.on('message'). If the child is a Node.js program, then the presence of an IPC channel will enable process.send() and process.on('message').</li> <li>
<code>'ignore'</code> - Do not set this file descriptor in the child. Note that Node will always open fd 0 - 2 for the processes it spawns. When any of these is ignored node will open <code>/dev/null</code> and attach it to the child's fd.</li> <li>
<code>Stream</code> object - Share a readable or writable stream that refers to a tty, file, socket, or a pipe with the child process. The stream's underlying file descriptor is duplicated in the child process to the fd that corresponds to the index in the <code>stdio</code> array. Note that the stream must have an underlying descriptor (file streams do not until the <code>'open'</code> event has occurred).</li> <li>Positive integer - The integer value is interpreted as a file descriptor that is is currently open in the parent process. It is shared with the child process, similar to how <code>Stream</code> objects can be shared.</li> <li>
<code>null</code>, <code>undefined</code> - Use default value. For stdio fds 0, 1 and 2 (in other words, stdin, stdout, and stderr) a pipe is created. For fd 3 and up, the default is <code>'ignore'</code>.</li> </ol>
<p>As a shorthand, the <code>stdio</code> argument may also be one of the following strings, rather than an array: </p> <ul>
<li>
<code>ignore</code> - <code>['ignore', 'ignore', 'ignore']</code>
</li> <li>
<code>pipe</code> - <code>['pipe', 'pipe', 'pipe']</code>
</li> <li>
<code>inherit</code> - <code>[process.stdin, process.stdout, process.stderr]</code> or <code>[0,1,2]</code>
</li> </ul>
<p>Example: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// Child will use parent's stdios
</span><span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'prg'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> stdio<span class="token punctuation">:</span> <span class="token string">'inherit'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// Spawn child sharing only stderr
</span><span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'prg'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> stdio<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'pipe'</span><span class="token punctuation">,</span> <span class="token string">'pipe'</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span>stderr<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// Open an extra fd=4, to interact with programs present a
</span><span class="token comment" spellcheck="true">// startd-style interface.
</span><span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'prg'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> stdio<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'pipe'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'pipe'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>If the <code>detached</code> option is set, the child process will be made the leader of a new process group. This makes it possible for the child to continue running after the parent exits. </p> <p>By default, the parent will wait for the detached child to exit. To prevent the parent from waiting for a given <code>child</code>, use the <code>child.unref()</code> method, and the parent's event loop will not include the child in its reference count. </p> <p>Example of detaching a long-running process and redirecting its output to a file: </p> <pre class=" language-javascript"><code class=" language-javascript"> <span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     spawn <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">,</span>
     out <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">openSync<span class="token punctuation">(</span></span><span class="token string">'./out.log'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     err <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">openSync<span class="token punctuation">(</span></span><span class="token string">'./out.log'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token function">spawn<span class="token punctuation">(</span></span><span class="token string">'prg'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
   detached<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   stdio<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'ignore'</span><span class="token punctuation">,</span> out<span class="token punctuation">,</span> err <span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 child<span class="token punctuation">.</span><span class="token function">unref<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>When using the <code>detached</code> option to start a long-running process, the process will not stay running in the background unless it is provided with a <code>stdio</code> configuration that is not connected to the parent. If the parent's <code>stdio</code> is inherited, the child will remain attached to the controlling terminal. </p> <p>There is a deprecated option called <code>customFds</code> which allows one to specify specific file descriptors for the stdio of the child process. This API was not portable to all platforms and therefore removed. With <code>customFds</code> it was possible to hook up the new process' <code>[stdin, stdout,
stderr]</code> to existing streams; <code>-1</code> meant that a new stream should be created. Use at your own risk. </p> <p>See also: <code>child_process.exec()</code> and <code>child_process.fork()</code> </p> <h2 id="child_process_child_process_exec_command_options_callback">child_process.exec(command, [options], callback)</h2> <div class="signature"><ul>
<li>
<code>command</code> <span class="type">String</span> The command to run, with space-separated arguments</li> <li>
<code>options</code> <span class="type">Object</span><ul>
<li>
<code>cwd</code> <span class="type">String</span> Current working directory of the child process</li> <li>
<code>env</code> <span class="type">Object</span> Environment key-value pairs</li> <li>
<code>encoding</code> <span class="type">String</span> (Default: 'utf8')</li> <li>
<code>timeout</code> <span class="type">Number</span> (Default: 0)</li> <li>
<code>maxBuffer</code> <span class="type">Number</span> (Default: <code>200*1024</code>)</li> <li>
<code>killSignal</code> <span class="type">String</span> (Default: 'SIGTERM')</li> </ul>
</li> <li>
<code>callback</code> <span class="type">Function</span> called with the output when process terminates<ul>
<li>
<code>error</code> <span class="type">Error</span>
</li> <li>
<code>stdout</code> <span class="type">Buffer</span>
</li> <li>
<code>stderr</code> <span class="type">Buffer</span>
</li> </ul>
</li> <li>Return: ChildProcess object</li> </ul></div> <p>Runs a command in a shell and buffers the output. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> exec <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exec<span class="token punctuation">,</span>
    child<span class="token punctuation">;</span>

child <span class="token operator">=</span> <span class="token function">exec<span class="token punctuation">(</span></span><span class="token string">'cat *.js bad_file | wc -l'</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> stdout<span class="token punctuation">,</span> stderr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'stdout: '</span> <span class="token operator">+</span> stdout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'stderr: '</span> <span class="token operator">+</span> stderr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token operator">!</span><span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'exec error: '</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The callback gets the arguments <code>(error, stdout, stderr)</code>. On success, <code>error</code> will be <code>null</code>. On error, <code>error</code> will be an instance of <code>Error</code> and <code>err.code</code> will be the exit code of the child process, and <code>err.signal</code> will be set to the signal that terminated the process. </p> <p>There is a second optional argument to specify several options. The default options are </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token punctuation">{</span> encoding<span class="token punctuation">:</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span>
  timeout<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  maxBuffer<span class="token punctuation">:</span> <span class="token number">200</span><span class="token operator">*</span><span class="token number">1024</span><span class="token punctuation">,</span>
  killSignal<span class="token punctuation">:</span> <span class="token string">'SIGTERM'</span><span class="token punctuation">,</span>
  cwd<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  env<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span></code></pre> <p>If <code>timeout</code> is greater than 0, then it will kill the child process if it runs longer than <code>timeout</code> milliseconds. The child process is killed with <code>killSignal</code> (default: <code>'SIGTERM'</code>). <code>maxBuffer</code> specifies the largest amount of data allowed on stdout or stderr - if this value is exceeded then the child process is killed. </p> <h2 id="child_process_child_process_execfile_file_args_options_callback">child_process.execFile(file, [args], [options], [callback])</h2> <div class="signature"><ul>
<li>
<code>file</code> <span class="type">String</span> The filename of the program to run</li> <li>
<code>args</code> <span class="type">Array</span> List of string arguments</li> <li>
<code>options</code> <span class="type">Object</span><ul>
<li>
<code>cwd</code> <span class="type">String</span> Current working directory of the child process</li> <li>
<code>env</code> <span class="type">Object</span> Environment key-value pairs</li> <li>
<code>encoding</code> <span class="type">String</span> (Default: 'utf8')</li> <li>
<code>timeout</code> <span class="type">Number</span> (Default: 0)</li> <li>
<code>maxBuffer</code> <span class="type">Number</span> (Default: 200*1024)</li> <li>
<code>killSignal</code> <span class="type">String</span> (Default: 'SIGTERM')</li> </ul>
</li> <li>
<code>callback</code> <span class="type">Function</span> called with the output when process terminates<ul>
<li>
<code>error</code> <span class="type">Error</span>
</li> <li>
<code>stdout</code> <span class="type">Buffer</span>
</li> <li>
<code>stderr</code> <span class="type">Buffer</span>
</li> </ul>
</li> <li>Return: ChildProcess object</li> </ul></div> <p>This is similar to <code>child_process.exec()</code> except it does not execute a subshell but rather the specified file directly. This makes it slightly leaner than <code>child_process.exec</code>. It has the same options. </p> <h2 id="child_process_child_process_fork_modulepath_args_options">child_process.fork(modulePath, [args], [options])</h2> <div class="signature"><ul>
<li>
<code>modulePath</code> <span class="type">String</span> The module to run in the child</li> <li>
<code>args</code> <span class="type">Array</span> List of string arguments</li> <li>
<code>options</code> <span class="type">Object</span><ul>
<li>
<code>cwd</code> <span class="type">String</span> Current working directory of the child process</li> <li>
<code>env</code> <span class="type">Object</span> Environment key-value pairs</li> <li>
<code>encoding</code> <span class="type">String</span> (Default: 'utf8')</li> <li>
<code>execPath</code> <span class="type">String</span> Executable used to create the child process</li> <li>
<code>execArgv</code> <span class="type">Array</span> List of string arguments passed to the executable (Default: <code>process.execArgv</code>)</li> <li>
<code>silent</code> <span class="type">Boolean</span> If true, stdin, stdout, and stderr of the child will be piped to the parent, otherwise they will be inherited from the parent, see the "pipe" and "inherit" options for <code>spawn()</code>'s <code>stdio</code> for more details (default is false)</li> </ul>
</li> <li>Return: ChildProcess object</li> </ul></div> <p>This is a special case of the <code>spawn()</code> functionality for spawning Node processes. In addition to having all the methods in a normal ChildProcess instance, the returned object has a communication channel built-in. See <code>child.send(message, [sendHandle])</code> for details. </p> <p>These child Nodes are still whole new instances of V8. Assume at least 30ms startup and 10mb memory for each new Node. That is, you cannot create many thousands of them. </p> <p>The <code>execPath</code> property in the <code>options</code> object allows for a process to be created for the child rather than the current <code>node</code> executable. This should be done with care and by default will talk over the fd represented an environmental variable <code>NODE_CHANNEL_FD</code> on the child process. The input and output on this fd is expected to be line delimited JSON objects. </p><div class="_attribution">
  <p class="_attribution-p">
     Joyent, Inc. and other Node contributors<br>Licensed under the MIT License.<br>
    <a href="http://nodejs.org/api/child_process.html" class="_attribution-link">http://nodejs.org/api/child_process.html</a>
  </p>
</div>
</div>